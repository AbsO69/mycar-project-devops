<!-- Customer Form Page Title -->
<!-- Wrap everything in .form-container, show loading or the form -->
<div class="form-container" *ngIf="!loading; else loadingTpl">
    <!-- Header -->
    <h2 *ngIf="customerId">
      {{ customerId ? 'Edit Customer' : 'New Customer' }}
    </h2>
  
    <!-- Error message -->
    <div *ngIf="error" class="error">
      {{ error }}
    </div>
  
    <!-- The reactive form -->
    <form *ngIf="customerForm" [formGroup]="customerForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="first_name">First Name</label>
        <input id="first_name" formControlName="first_name" class="form-control" />
        <div *ngIf="customerForm.get('first_name')?.invalid && customerForm.get('first_name')?.touched" class="error-message">
          First name is required.
        </div>
      </div>
  
      <div class="form-group">
        <label for="last_name">Last Name</label>
        <input id="last_name" formControlName="last_name" class="form-control" />
        <div *ngIf="customerForm.get('last_name')?.invalid && customerForm.get('last_name')?.touched" class="error-message">
          Last name is required.
        </div>
      </div>
  
      <div class="form-group">
        <label for="email">Email</label>
        <input id="email" formControlName="email" type="email" class="form-control" />
        <div *ngIf="customerForm.get('email')?.invalid && customerForm.get('email')?.touched" class="error-message">
          A valid email is required.
        </div>
      </div>
  
      <div class="form-group">
        <label for="phone">Phone</label>
        <input id="phone" formControlName="phone" class="form-control" />
        <div *ngIf="customerForm.get('phone')?.invalid && customerForm.get('phone')?.touched" class="error-message">
          Phone number is required.
        </div>
      </div>
  
      <div class="form-group">
        <label for="address">Address</label>
        <input id="address" formControlName="address" class="form-control" />
        <div *ngIf="customerForm.get('address')?.invalid && customerForm.get('address')?.touched" class="error-message">
          Address is required.
        </div>
      </div>
  
      <div class="form-group">
        <label for="city">City</label>
        <input id="city" formControlName="city" class="form-control" />
        <div *ngIf="customerForm.get('city')?.invalid && customerForm.get('city')?.touched" class="error-message">
          City is required.
        </div>
      </div>
  
      <div class="form-group">
        <label for="state">State</label>
        <input id="state" formControlName="state" class="form-control" />
        <div *ngIf="customerForm.get('state')?.invalid && customerForm.get('state')?.touched" class="error-message">
          State is required.
        </div>
      </div>
  
      <div class="form-group">
        <label for="zipcode">Zip Code</label>
        <input id="zipcode" formControlName="zipcode" class="form-control" />
        <div *ngIf="customerForm.get('zipcode')?.invalid && customerForm.get('zipcode')?.touched" class="error-message">
          Zip Code is required.
        </div>
      </div>
  
      <button type="submit" [disabled]="customerForm.invalid" class="submit-btn">
        {{ customerId ? 'Update Customer' : 'Create Customer' }}
      </button>
    </form>
    <button type="button" class="cancel-btn" (click)="onCancel()">
      Cancel
    </button>
  </div>
  
  <!-- Loading Template -->
  <ng-template #loadingTpl>
    <div class="loading-indicator">
      <span class="loader"></span> Loadingâ€¦
    </div>
  </ng-template>
  